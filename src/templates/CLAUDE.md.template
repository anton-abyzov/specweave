# {PROJECT_NAME} - SpecWeave Quick Reference

This project uses **SpecWeave** - a specification-first AI development framework where specs and docs are the SOURCE OF TRUTH.

---

## ğŸš¨ CRITICAL: NEVER POLLUTE PROJECT ROOT!

**â›” THIS IS THE #1 RULE - ALL AI-GENERATED FILES GO IN INCREMENT FOLDERS â›”**

### âŒ NEVER Create in Root

```
âŒ WRONG - ROOT FILES (NOT ALLOWED!):
/SESSION-SUMMARY.md                    # NO! Goes to increment reports/
/ANALYSIS-REPORT.md                    # NO! Goes to increment reports/
/migration-script.py                   # NO! Goes to increment scripts/
/execution.log                         # NO! Goes to increment logs/
/temp-data.json                        # NO! Goes to increment logs/

âœ… CORRECT - INCREMENT FOLDERS:
.specweave/increments/0001-user-auth/
â”œâ”€â”€ spec.md                            # Core spec files
â”œâ”€â”€ plan.md
â”œâ”€â”€ tasks.md                           # Tasks with embedded tests (BDD format)
â”œâ”€â”€ reports/                           # âœ… PUT REPORTS HERE!
â”‚   â”œâ”€â”€ SESSION-SUMMARY.md
â”‚   â””â”€â”€ ANALYSIS-REPORT.md
â”œâ”€â”€ scripts/                           # âœ… PUT SCRIPTS HERE!
â”‚   â””â”€â”€ migration-script.py
â””â”€â”€ logs/                              # âœ… PUT LOGS HERE!
    â”œâ”€â”€ execution.log
    â””â”€â”€ temp-data.json
```

### What IS Allowed in Root?

**ONLY these files**:
- âœ… `CLAUDE.md` (this file)
- âœ… Your project files (`src/`, `package.json`, etc.)
- âœ… Standard config (`.env`, `.gitignore`, `tsconfig.json`)

**Everything else â†’ increment folders!**

**Before asking me to commit, check**: `git status` - If you see unexpected `.md` files in root, STOP and move them!

---

## ğŸ“‹ Quick Reference Cards

### Daily Workflow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TASK                    â†’ COMMAND                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Plan new feature        â†’ /specweave:increment "feature"   â”‚
â”‚ Execute tasks           â†’ /specweave:do                    â”‚
â”‚ Check progress          â†’ /specweave:progress              â”‚
â”‚ Validate quality        â†’ /specweave:validate 0001         â”‚
â”‚ Close increment         â†’ /specweave:done 0001             â”‚
â”‚ Sync to GitHub          â†’ /specweave:github:sync           â”‚
â”‚ Sync to Jira            â†’ /specweave:jira:sync             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### When to Use Which Command
| User Says...              | Use Command                        |
|---------------------------|------------------------------------|
| "Let's build X"           | `/specweave:increment "X"`         |
| "Start implementing"      | `/specweave:do`                    |
| "What's the status?"      | `/specweave:progress`              |
| "Is this ready?"          | `/specweave:validate 0001`         |
| "We're done"              | `/specweave:done 0001`             |
| "Sync to GitHub"          | `/specweave:github:sync`           |
| "Sync to Jira"            | `/specweave:jira:sync`             |

### File Organization Rules
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NEVER in Root           â†” ALWAYS in Increment Folder      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ analysis.md          â†” âœ… .../0001/reports/analysis.md  â”‚
â”‚ âŒ migration.py         â†” âœ… .../0001/scripts/migration.py â”‚
â”‚ âŒ execution.log        â†” âœ… .../0001/logs/execution.log   â”‚
â”‚ âŒ session-notes.md     â†” âœ… .../0001/reports/session.md   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SpecWeave Workflow (Use These Commands!)

**How SpecWeave works**:

```
/specweave:increment "feature" â†’ /specweave:do â†’ /specweave:progress â†’ /specweave:done â†’ repeat
```

**1. Plan Feature** â†’ `/specweave:increment "user authentication"`
   - Creates spec.md (WHAT/WHY), plan.md (HOW), tasks.md (with embedded tests)
   - PM-led process with architect/security/QA review
   - **Use when**: Starting any new feature or increment

**2. Execute Tasks** â†’ `/specweave:do` or `/specweave:do 0001`
   - Smart resume (picks up where you left off)
   - Runs hooks after EVERY task completion
   - **Use when**: Ready to implement planned work

**3. Check Progress** â†’ `/specweave:progress`
   - Shows task completion %, next action
   - **Use when**: Want to see status

**4. Validate Quality** â†’ `/specweave:validate 0001` or `/specweave:qa 0001`
   - Rule-based validation (120 checks) or AI quality assessment with risk scoring
   - Validates tasks, tests (embedded in tasks.md), and documentation
   - **Use when**: Verify increment quality before completion

**5. Close Increment** â†’ `/specweave:done 0001`
   - Validates all tasks complete
   - **Use when**: Feature is finished

**6. Sync to External** (Plugin Commands):
   - `/specweave:github:sync` - Export to GitHub issues (github plugin)
   - `/specweave:jira:sync` - Export to Jira (jira plugin)
   - **Use when**: Need to sync with project management tools

**All other functionality (agents, skills) activates automatically based on context.**

---

## âš ï¸ Increment Discipline (CRITICAL)

### ğŸš¨ INCREMENT NUMBERS MUST BE UNIQUE!

**Duplicate numbers break everything** - sync, status line, git history.

**Format**: `####-descriptive-name` (e.g., `0001-user-auth`)

**Check before creating:**
```bash
ls -1 .specweave/increments/ | grep -E "^[0-9]{4}-" | sort | tail -5
```

### ğŸ“ Folder Structure (MANDATORY)

**Only 3 files in root:** `spec.md`, `plan.md`, `tasks.md`

**Everything else in subfolders:**
- `reports/` - Analysis, summaries, session notes
- `scripts/` - Helper scripts
- `logs/` - Execution logs

---

## ğŸ”— Automatic Syncing (Living Docs + External Tools)

**SpecWeave automatically syncs your work** after EVERY task completion via hooks:

### What Gets Synced Automatically

1. **Living Docs** â†’ `.specweave/docs/internal/specs/`
   - Increment specs sync to permanent knowledge base
   - Ensures complete project history
   - **Configurable**: Set `sync_living_docs: true` in `.specweave/config.json`

2. **External Trackers** (if configured):
   - GitHub Issues - Task checkboxes update automatically
   - Jira - Issue status updates automatically
   - Azure DevOps - Work item updates automatically
   - **Configurable**: Set `external_tracker_sync: true` in `.specweave/config.json`

### ğŸ·ï¸ GitHub Sync Mapping (Universal Hierarchy)

**SpecWeave follows strict hierarchy for GitHub sync:**

| SpecWeave Entity | GitHub Mapping | Example |
|------------------|----------------|---------|
| **Feature** (FS-XXX) | **Milestone** | `FS-031: External Tool Status Sync` |
| **User Story** (US-XXX) | **Issue** | `[FS-031][US-002] Task-Level Mapping` |
| **Task** (T-XXX) | **Checkbox** | `- [ ] T-001: Implement validator` |

**Key Principles**:
- âœ… **Features â†’ Milestones** (container for all User Stories)
- âœ… **User Stories â†’ Issues** (each US-* file = separate GitHub issue)
- âœ… **Tasks â†’ Checkboxes** (listed in User Story issue body)
- âŒ **NEVER create Feature-level issues** (Features are Milestones!)

**â›” DEPRECATED**:
- âŒ `[INC-XXXX]` - Old increment format (pre-v0.18.0)
- âŒ `[FS-XXX] Feature Title` as issue - Feature-level issues (pre-v0.19.0, wrong!)

3. **Sound Notifications**:
   - Plays sound when tasks complete (helps you know when to review)
   - Platform-specific: Glass.aiff (macOS), system sounds (Linux/Windows)

### Configuration (`.specweave/config.json`)

Created automatically during `specweave init`, but you can customize:

```json
{
  "hooks": {
    "post_task_completion": {
      "sync_living_docs": true,        // Sync specs to living docs
      "sync_tasks_md": true,           // Update tasks.md
      "external_tracker_sync": true    // Sync to GitHub/Jira/ADO
    }
  }
}
```

**Just works!** No manual syncing needed - focus on implementation, SpecWeave handles the rest.

---

## ğŸ§  Automatic Intent Detection (NEW in v0.3.8+)

**SpecWeave now detects when you're describing a product/project and automatically helps you plan it!**

### How It Works

When working in a SpecWeave-initialized project (`.specweave/` exists), SpecWeave recognizes product descriptions by detecting these patterns:

**Signals that trigger auto-detection:**
1. âœ… **Project Name/Description** - "Project: RosterSync", "I want to build X"
2. âœ… **Features List** - Bullet points or numbered list of features (3+ items)
3. âœ… **Tech Stack** - Languages, frameworks, databases mentioned
4. âœ… **Timeline/Scope** - "MVP", "2 weeks", "Phase 1", "Quick build"
5. âœ… **Problem Statement** - "For teams...", "Helps users...", "Solves..."
6. âœ… **Business Model** - "Freemium", "$X/mo", "B2B", "Consumer"

**Confidence Levels:**
- **High (5-6 signals + SpecWeave folder)**: Auto-route to `/specweave:increment` immediately
- **Medium (3-4 signals + SpecWeave folder)**: Ask 1-2 clarifying questions, then route
- **Low (<3 signals)**: Regular conversation (no auto-routing)

### Example: Automatic Detection

```
You: Project: RosterSync - Team scheduling SaaS
Core features:
- Team roster management
- Availability calendar
- Event scheduling with notifications
- Lineup builder
Tech stack: .NET 8, Next.js 14+, PostgreSQL
MVP: 2-3 weeks
Monetization: Freemium ($10/mo)

SpecWeave detects: âœ… Name âœ… Features âœ… Tech âœ… Timeline âœ… Problem âœ… Business
â†’ Automatically recognizes this as a product description
â†’ Guides you through increment planning
â†’ Invokes /specweave:increment automatically

No need to remember the full command!
```

### Opt-Out Options

You can override automatic routing with explicit instructions:
- **"Just brainstorm first"** â†’ Uses spec-driven-brainstorming instead
- **"Don't plan yet"** â†’ Regular conversation
- **"Quick discussion"** â†’ No automatic routing
- **"Let's explore ideas first"** â†’ Exploratory mode

### Two Ways to Use SpecWeave

1. âœ… **Automatic** (NEW): Describe your product â†’ SpecWeave detects it â†’ Plans automatically
2. âœ… **Explicit** (Classic): Type `/specweave:increment "feature"` â†’ Works as before

Both approaches work perfectly - use whichever feels more natural!

---

## ğŸš¨ CRITICAL: File Organization Rules

**Keep project root CLEAN!** All AI-generated files MUST go into increment folders.

### What Goes Where

**âœ… ALLOWED in Root**:
- `CLAUDE.md` (this file)
- Your existing project files (package.json, src/, etc.)
- Standard config files (.env, .gitignore, tsconfig.json)

**âŒ NEVER Create in Root** (use increment folders):
- Reports â†’ `.specweave/increments/0001-feature-name/reports/`
- Scripts â†’ `.specweave/increments/0001-feature-name/scripts/`
- Logs â†’ `.specweave/increments/0001-feature-name/logs/`
- Analysis files â†’ `.specweave/increments/0001-feature-name/reports/`
- Temp files â†’ `.specweave/increments/0001-feature-name/logs/`

### Increment Structure

```
.specweave/increments/0001-user-auth/   # âš ï¸ ID must be unique!
â”œâ”€â”€ spec.md                      # WHAT & WHY
â”œâ”€â”€ plan.md                      # HOW
â”œâ”€â”€ tasks.md                     # Tasks with embedded test plans (BDD format)
â”œâ”€â”€ context-manifest.yaml        # Selective context loading
â”œâ”€â”€ logs/                        # âœ… Execution logs, errors, AI sessions
â”œâ”€â”€ scripts/                     # âœ… Helper scripts, migrations, setup
â””â”€â”€ reports/                     # âœ… Analysis, completion, performance
```

**Why?**
- âœ… Complete traceability (know which increment created which files)
- âœ… Easy cleanup (delete increment folder = delete all related files)
- âœ… Clear context (all files for a feature in one place)
- âœ… No root clutter

**Example**:
```
âŒ WRONG:
project-root/
â”œâ”€â”€ analysis-report.md          # NO! Pollutes root
â”œâ”€â”€ migration-script.py         # NO! Pollutes root
â””â”€â”€ execution.log               # NO! Pollutes root

âœ… CORRECT:
.specweave/increments/0001-user-auth/
â”œâ”€â”€ reports/analysis-report.md
â”œâ”€â”€ scripts/migration-script.py
â””â”€â”€ logs/execution.log
```

---

## ğŸ”— Bidirectional Task â†” User Story Linking

**AUTOMATIC FEATURE**: SpecWeave creates bidirectional links between tasks and user stories.

### How It Works

**When you complete an increment** (`/specweave:done`):
1. User stories are extracted to `.specweave/docs/internal/specs/default/`
2. Tasks.md is automatically updated with links back to user stories
3. Complete bidirectional navigation is created!

**Example Task** (WITH bidirectional link):
```markdown
### T-001: Implement User Login

**User Story**: [US-001: User Authentication](../../docs/internal/specs/default/auth-service/us-001-user-authentication.md)

**AC**: AC-US1-01, AC-US1-02, AC-US1-03

**Test Plan** (BDD):
- **Given** valid credentials â†’ **When** login â†’ **Then** receive JWT token
```

### Requirements

**Your tasks.md MUST have AC-IDs** for bidirectional linking:

```markdown
## T-001: Implement User Login

**AC**: AC-US1-01, AC-US1-02, AC-US1-03   â† CRITICAL for linking!
```

**AC-ID Format**: `AC-US{number}-{criteria}` (e.g., `AC-US1-01`, `AC-US2-03`)
- Maps to user stories: `AC-US1-01` â†’ `US-001`
- Multiple AC-IDs allowed per task
- Task links to FIRST user story found

### Benefits

- âœ… **Navigate both directions**: Tasks â†’ User Stories â†’ Tasks
- âœ… **Automatic**: No manual linking needed
- âœ… **Multi-project aware**: Works with backend, frontend, mobile, etc.
- âœ… **Always in sync**: Links created during `/specweave:done`
- âœ… **NEW (v0.18.3+)**: User stories include project-specific checkable task lists

### Project-Specific Tasks (v0.18.3+)

**NEW**: User stories now have their OWN checkable task lists, not just links!

```markdown
## Tasks

- [ ] **T-001**: Setup API endpoint
- [x] **T-003**: Add DB migration (completed)

> **Note**: Tasks are project-specific. See increment tasks.md for full list
```

**Benefits**:
- **Project Isolation**: Backend tasks â‰  Frontend tasks
- **GitHub UX**: Checkable task lists in GitHub issues
- **Traceability**: Each user story explicitly lists its tasks
- **Completion Tracking**: Status synced from increment tasks.md

**For complete details**: Ask me about "bidirectional linking" or check `.specweave/docs/internal/specs/default/README.md`

---

## Tech Stack

**Project Type**: {MONOREPO_OR_SINGLE}

{#IF_SINGLE_STACK}
**Stack**:
- Language: {DETECTED_LANGUAGE}
- Framework: {DETECTED_FRAMEWORK}
- Database: {SPECIFIED_DATABASE}
- Platform: {SPECIFIED_PLATFORM}
{#ENDIF}

{#IF_MONOREPO}
**Services**:
- {SERVICE_1_NAME}: {SERVICE_1_LANGUAGE} + {SERVICE_1_FRAMEWORK} ({SERVICE_1_PATH}/)
- {SERVICE_2_NAME}: {SERVICE_2_LANGUAGE} + {SERVICE_2_FRAMEWORK} ({SERVICE_2_PATH}/)
{#ENDIF}

Config: Auto-detected from project files

---

## Project Structure

**IMPORTANT**: This project uses {MONOREPO_OR_SINGLE} mode.

{#IF_SINGLE_PROJECT}
### Single Project Structure

```
{PROJECT_NAME}/
â”œâ”€â”€ .specweave/
â”‚   â”œâ”€â”€ docs/                    # Strategic documentation
â”‚   â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/        # Business specs (WHAT, WHY)
â”‚   â”‚   â”‚   â”œâ”€â”€ specs/           # Feature specifications (living docs)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ default/     # âœ… All specs in default project
â”‚   â”‚   â”‚   â”œâ”€â”€ architecture/    # Technical design (HOW)
â”‚   â”‚   â”‚   â”œâ”€â”€ delivery/        # Guides, roadmap, CI/CD
â”‚   â”‚   â”‚   â”œâ”€â”€ operations/      # Runbooks, monitoring
â”‚   â”‚   â”‚   â””â”€â”€ governance/      # Security, compliance
â”‚   â”‚   â””â”€â”€ public/              # Published docs
â”‚   â”œâ”€â”€ increments/              # Features (auto-numbered, UNIQUE IDs)
â”‚   â”‚   â””â”€â”€ 0001-feature-name/   # âš ï¸ Each ID must be unique (0001-9999)
â”‚   â”‚       â”œâ”€â”€ spec.md          # What we're building
â”‚   â”‚       â”œâ”€â”€ plan.md          # How we'll build it
â”‚   â”‚       â”œâ”€â”€ tasks.md         # Tasks with embedded tests
â”‚   â”‚       â”œâ”€â”€ logs/            # âœ… Put logs here
â”‚   â”‚       â”œâ”€â”€ scripts/         # âœ… Put scripts here
â”‚   â”‚       â””â”€â”€ reports/         # âœ… Put reports here
â”‚   â””â”€â”€ tests/                   # Centralized test repository
â”‚
â”œâ”€â”€ .claude/                     # Pre-installed components
â”‚   â”œâ”€â”€ agents/                  # Core + plugin agents (auto-activate)
â”‚   â”œâ”€â”€ skills/                  # Core + plugin skills (auto-activate)
â”‚   â””â”€â”€ commands/                # Core + plugin slash commands
â”‚
â”œâ”€â”€ CLAUDE.md                    # This file
â””â”€â”€ src/                         # Your source code
```
{#ENDIF}

{#IF_MULTI_PROJECT}
### Multi-Project Structure (v0.16.11+ Flattened)

**CRITICAL**: Specs are organized by project with FLATTENED structure (v0.16.11+).

```
{PROJECT_NAME}/
â”œâ”€â”€ .specweave/
â”‚   â”œâ”€â”€ docs/internal/
â”‚   â”‚   â”œâ”€â”€ strategy/            # Cross-project strategy
â”‚   â”‚   â”œâ”€â”€ specs/               # âœ… FLATTENED structure (v0.16.11+)
â”‚   â”‚   â”‚   â”œâ”€â”€ backend/         # Backend project specs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ spec-001-api-auth.md
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ spec-002-data-layer.md
â”‚   â”‚   â”‚   â”œâ”€â”€ frontend/        # Frontend project specs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ spec-001-user-dashboard.md
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ spec-002-dark-mode.md
â”‚   â”‚   â”‚   â”œâ”€â”€ mobile/          # Mobile project specs (if applicable)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ spec-001-push-notifications.md
â”‚   â”‚   â”‚   â””â”€â”€ _parent/         # Parent repo specs (multi-repo only)
â”‚   â”‚   â”‚       â””â”€â”€ spec-001-system-architecture.md
â”‚   â”‚   â”œâ”€â”€ architecture/        # System-wide technical design
â”‚   â”‚   â”œâ”€â”€ delivery/            # Cross-project delivery
â”‚   â”‚   â”œâ”€â”€ operations/          # Cross-project operations
â”‚   â”‚   â””â”€â”€ governance/          # Cross-project governance
â”‚   â”œâ”€â”€ increments/
â”‚   â”‚   â”œâ”€â”€ 0001-backend-auth/   # Backend increment
â”‚   â”‚   â”œâ”€â”€ 0002-frontend-ui/    # Frontend increment
â”‚   â”‚   â””â”€â”€ 0003-mobile-push/    # Mobile increment
â”‚   â””â”€â”€ ...
```

**Living Docs Path Format**:
- âœ… **CORRECT** (v0.16.11+): `.specweave/docs/internal/specs/{project-id}/spec-NNN-name.md`
- âŒ **OLD** (v0.8.0-v0.16.10): `.specweave/docs/internal/projects/{project-id}/specs/...` (DEPRECATED)

**Project Detection** (automatic):
- **From increment name**: `0001-backend-auth` â†’ project: `backend`
- **From tech stack**: React/Next.js â†’ `frontend`, ASP.NET/Node.js â†’ `backend`
- **From config**: `multiProject.activeProject` in `.specweave/config.json`
- **Fallback**: Uses `default` project
{#ENDIF}

---

## Plugins

SpecWeave uses Claude Code's native plugin system. All plugins auto-install during `specweave init`.

**Enabled plugins**: {ENABLED_PLUGINS}

**Plugin commands** (examples):
- `/specweave:github:sync` - Sync to GitHub
- `/specweave:jira:sync` - Sync to Jira

Skills/agents activate automatically based on context.

---

## Documentation Approach

**You chose**: {DOCUMENTATION_APPROACH}

{#IF_COMPREHENSIVE}
**Comprehensive** - Detailed specs upfront, best for enterprise/regulated industries.
{#ENDIF}

{#IF_INCREMENTAL}
**Incremental** - Build docs as you go, best for startups/MVPs.
{#ENDIF}

---

## Quick Reference

**Need help?** [SpecWeave Docs](https://spec-weave.com/docs)
- **Which spec is source of truth?** Living docs spec (when it exists), otherwise increment spec

### Key Topics Covered
- âœ… Two-spec architecture explained
- âœ… When to create living docs specs
- âœ… Increment spec lifecycle
- âœ… Brownfield documentation linking
- âœ… External PM tool integration (Jira, ADO, GitHub)
- âœ… Small vs large feature decisions
- âœ… Project structure and organization

**[View Complete FAQ â†’](https://spec-weave.com/docs/faq)**

---

## Testing

**Four Levels**:
1. **Specification** (`.specweave/docs/internal/strategy/`) - Acceptance criteria (AC-IDs)
2. **Feature** (`.specweave/increments/####/tasks.md`) - Test plans embedded in tasks (BDD format)
3. **Integration** (`tests/integration/` or `tests/specs/`) - Component/module tests
4. **Code** (`tests/`) - Automated tests (Unit, Integration, E2E)

**Test-Aware Planning**: Tests are embedded in tasks.md using BDD format (Given/When/Then), with AC-ID traceability and realistic coverage targets (80-90%).

**Requirements**:
- E2E tests when UI exists
- >80% coverage for critical paths
- Tests MUST tell the truth

### Writing Modern Tests (Vitest)

**SpecWeave uses Vitest**. Key patterns:

```typescript
// âœ… CORRECT: ES6 imports, Vitest API, type-safe mocks
import { describe, it, expect, vi } from 'vitest';
vi.mock('fs-extra', () => ({ default: { readFile: vi.fn() } }));
import fs from 'fs-extra';

describe('Feature', () => {
  const mockReadFile = vi.mocked(fs.readFile);

  beforeEach(() => {
    vi.clearAllMocks();
    mockReadFile.mockResolvedValue('data');
  });

  it('works', async () => {
    const result = await MyModule.doSomething();
    expect(mockReadFile).toHaveBeenCalled();
  });
});
```

**Common mistakes to avoid**:
- âŒ `require()` â†’ âœ… `import` (ES modules only)
- âŒ `jest.fn()` â†’ âœ… `vi.fn()` (Vitest API)
- âŒ `fs as anyed<>` â†’ âœ… `vi.mocked(fs.method)` (type-safe)
- âŒ External variable in `vi.mock()` factory â†’ âœ… Inline `vi.fn()`

---

## Key SpecWeave Principles

1. **Specification-First**: Always start with `/specweave:increment` to create specs before coding
2. **Documentation = Source of Truth**: Specs guide implementation, not the reverse
3. **Incremental**: Work in small, measurable increments
4. **Validated**: Every increment validated before closure
5. **Traceable**: All work traces back to specs and requirements
6. **Clean Organization**: All supporting files in increment folders, never root
7. **No Duplicate Increments**: Each increment must have a unique 4-digit ID (0001-9999)

---

## Project-Specific Notes

{#CUSTOM_NOTES}
<!-- Add project-specific conventions, team workflows, deployment notes here -->
{#ENDCUSTOM}

---

## ğŸ†˜ Troubleshooting

### Skills Not Activating

**Symptoms**: Expected skill didn't load automatically

**Solutions**:
1. Restart Claude Code (skills loaded at startup)
2. Check keywords: Skills activate based on description keywords
3. Verify plugin installed: Use `/plugin list --installed`
4. Manual check: Look in `.claude/skills/SKILLS-INDEX.md` for available skills

### Commands Not Found

**Symptoms**: `/specweave:increment` doesn't work

**Solutions**:
1. Verify plugin installed: `/plugin list --installed`
2. Check installed commands: `ls .claude/commands/`
3. Restart Claude Code
4. Re-run: `specweave init` if plugins missing

### Root Folder Polluted

**Symptoms**: `git status` shows `.md` files in project root

**Solutions**:
1. **Immediate fix**: Move files to increment folder
   ```bash
   mv SESSION-NOTES.md .specweave/increments/0001/reports/
   mv analysis.md .specweave/increments/0001/reports/
   ```
2. Check `.gitignore` is up to date
3. Commit cleaned structure:
   ```bash
   git add .
   git commit -m "fix: move reports to increment folder"
   ```

### Increment Numbers Not Unique

**Symptoms**: Multiple increments with same number (0001, 0001, etc.)

**Solutions**:
1. Check existing: `ls -1 .specweave/increments/ | grep -E "^[0-9]{4}-"`
2. Use next available number
3. If duplicates exist, run: `/specweave:fix-duplicates`

### External Tracker Not Syncing

**Symptoms**: GitHub/Jira not updating after task completion

**Solutions (Claude Code)**:
1. Check config: `.specweave/config.json` has `external_tracker_sync: true`
2. Verify hook exists: `ls plugins/specweave-github/hooks/post-task-completion.sh`
3. Check credentials: `gh auth status` or `jira config list`
4. Manual sync: `/specweave:github:sync 0001`

### Tasks.md Out of Sync

**Symptoms**: Progress shows 0/24 but many tasks done

**Solutions**:
1. Auto-sync from reality: `/specweave:sync-tasks`
2. Manual update: Edit tasks.md, change `[ ]` to `[x]`
3. Recalculate progress counters

### Can't Find Increment

**Symptoms**: Don't know which increment is active

**Solutions**:
1. Check status: `/specweave:status` (shows all increments)
2. Check progress: `/specweave:progress` (shows active increment)
3. View active: `cat .specweave/state/active-increment.json`

### More Help

**Documentation**: https://spec-weave.com/docs/troubleshooting
**GitHub Issues**: https://github.com/anton-abyzov/specweave/issues
**Discussions**: https://github.com/anton-abyzov/specweave/discussions

---

## Getting Started

**Create your first feature**:
```bash
/specweave:increment "your feature description"
```

**Typical Workflow**:
1. `/specweave:increment "feature"` â†’ SpecWeave creates specs
2. Review specs (spec.md, plan.md, tasks.md)
3. `/specweave:do` â†’ Claude implements the code
4. `/specweave:progress` â†’ Check status anytime
5. `/specweave:validate 0001` â†’ Validate quality (optional)
6. `/specweave:done 0001` â†’ Close when complete

**Remember**:
- Type `/specweave:increment` first, THEN implement
- Keep root clean (use increment folders)
- All agents/skills activate automatically

**SpecWeave Documentation**: https://spec-weave.com

---

**Last Updated**: Auto-updated via SpecWeave hooks
