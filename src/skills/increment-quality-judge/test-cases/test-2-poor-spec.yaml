---
name: "Quality Assessment - Poor Spec Needing Improvement"
description: "Evaluate a vague specification with untestable criteria, triggering feedback loop"
skill: increment-quality-judge
priority: P1
estimated_time: "2-3 minutes"

input:
  prompt: "Assess the quality of the payment processing spec"
  spec_content: |
    # Payment Processing

    ## Overview
    Add payment feature to the app.

    ## Requirements
    - Users can make payments
    - System should be secure
    - Payments should be fast
    - Handle errors properly

    ## Technical Details
    - Use some payment provider
    - Store payment info
    - Send receipts

expected_output:
  overall_score: 0.50-0.70
  score_range: "needs_work"  # Below 70

  dimension_scores:
    clarity:
      max: 0.65
      rationale: "Vague problem statement, objectives unclear"

    testability:
      max: 0.55
      rationale: "Acceptance criteria not measurable (no metrics, thresholds)"

    completeness:
      max: 0.60
      rationale: "Missing error handling details, security specs, performance targets"

    feasibility:
      max: 0.70
      rationale: "No timeline, resource requirements unclear"

    maintainability:
      max: 0.65
      rationale: "Lacks modularity, extension points undefined"

    edge_cases:
      max: 0.50
      rationale: "No failure scenarios, retry logic, or edge case handling"

  issues_found:
    count: 5-8
    severity_breakdown:
      critical: 0-1
      major: 3-5
      minor: 2-3

  typical_issues:
    - severity: "major"
      description: "Acceptance criteria not testable"
      location: "Requirements section"
      suggestion: "Add measurable metrics (e.g., 'Payment completes in <3s')"

    - severity: "major"
      description: "Security requirements too vague"
      location: "Technical Details"
      suggestion: "Specify: PCI-DSS compliance, encryption standards (TLS 1.3), tokenization"

    - severity: "major"
      description: "No error handling specification"
      location: "Requirements"
      suggestion: "Define error scenarios: payment declined, timeout, network failure"

    - severity: "minor"
      description: "Payment provider not specified"
      location: "Technical Details"
      suggestion: "Choose provider: Stripe, PayPal, or Square"

  suggestions:
    count: 5-8
    priority_breakdown:
      high: 3-5
      medium: 2-3
      low: 0-1

  confidence: 0.85-0.95  # High confidence even for poor spec

validation:
  - "Overall score < 0.70"
  - "Testability dimension < 0.60"
  - "At least 5 issues found"
  - "At least 3 major issues"
  - "At least 5 suggestions provided"
  - "High priority suggestions >= 3"
  - "Confidence >= 0.85"

success_criteria:
  - "Score accurately reflects poor quality"
  - "All 6 dimensions show low scores"
  - "Issues clearly documented with locations"
  - "Actionable suggestions with examples"
  - "Would trigger feedback loop (score < 0.80)"
---
