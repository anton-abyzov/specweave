---
# Context Manifest for Increment 0002: Core Framework Enhancements
# Purpose: 70%+ token reduction by loading only relevant specifications and documentation

increment_id: "0002-core-enhancements"
version: "1.0.0"
created: "2025-10-26"

# Specification sections to load (technology-agnostic WHAT/WHY)
spec_sections:
  # Current diagram conventions (to be migrated)
  - path: ".specweave/docs/internal/delivery/guides/diagram-conventions-comprehensive.md"
    priority: high
    reason: "Source material for agent expertise"
    sections:
      - "## C4 Model Mapping"
      - "## Where to Keep Diagrams"
      - "## File Naming Conventions"
      - "## Diagram Types and When to Use"

  # Tool concept mapping (reference only, NOT converted to agent)
  - path: ".specweave/docs/internal/delivery/guides/tool-concept-mapping.md"
    priority: low
    reason: "Related documentation for context"

# Documentation (HOW - architecture, ADRs, implementation guides)
documentation:
  # Main development guide
  - path: "CLAUDE.md"
    priority: high
    reason: "Framework structure, agents vs skills architecture"
    sections:
      - "#agents-vs-skills-architecture"
      - "#agents-development"
      - "#skills-development"
      - "#c4-diagram-conventions"
      - "#testing-philosophy"
      - "#source-of-truth-src-folder"

  # Increment-specific documentation
  - path: ".specweave/increments/0002-core-enhancements/spec.md"
    priority: high
    reason: "WHAT and WHY for this increment"

  - path: ".specweave/increments/0002-core-enhancements/plan.md"
    priority: high
    reason: "HOW to implement this increment"

  - path: ".specweave/increments/0002-core-enhancements/tests.md"
    priority: high
    reason: "Test strategy and coverage"

# Reference agents/skills (as examples)
references:
  agents:
    - path: "src/agents/pm/AGENT.md"
      priority: medium
      reason: "Example ROLE agent format and structure"

    - path: "src/agents/architect/AGENT.md"
      priority: medium
      reason: "Example ROLE agent with architecture expertise"

  skills:
    - path: "src/skills/feature-planner/SKILL.md"
      priority: medium
      reason: "Example skill format and structure"

    - path: "src/skills/role-orchestrator/SKILL.md"
      priority: medium
      reason: "Example skill that coordinates with agents"

# Exclude from context (not relevant for this increment)
exclude:
  - "src/agents/devops/**"
  - "src/agents/sre/**"
  - "src/agents/security/**"
  - "src/agents/nextjs/**"
  - "src/agents/nodejs-backend/**"
  - "src/agents/python-backend/**"
  - "src/agents/dotnet-backend/**"
  - "src/skills/hetzner-provisioner/**"
  - "src/skills/cost-optimizer/**"
  - "src/skills/jira-sync/**"
  - "src/skills/ado-sync/**"
  - "src/skills/github-sync/**"
  - ".specweave/increments/0001-core-framework/**"
  - "tests/**"
  - "node_modules/**"
  - "dist/**"

# Context loading configuration
max_context_tokens: 10000
priority: high
auto_refresh: false

# Cache strategy
cache:
  enabled: true
  ttl: 3600  # 1 hour
  invalidate_on_change: true
  files_to_watch:
    - "CLAUDE.md"
    - ".specweave/docs/internal/delivery/guides/diagram-conventions-comprehensive.md"
    - "src/agents/*/AGENT.md"
    - "src/skills/*/SKILL.md"

# Loading strategy
loading_strategy:
  type: "selective"
  load_on_demand: true
  preload:
    - "CLAUDE.md#agents-vs-skills-architecture"
    - ".specweave/increments/0002-core-enhancements/spec.md"
    - ".specweave/increments/0002-core-enhancements/plan.md"

# Dependencies (what this increment builds upon)
dependencies:
  - increment: "0001-core-framework"
    reason: "Builds upon core framework agents and skills"
    requires:
      - "src/agents/ structure"
      - "src/skills/ structure"
      - "Install scripts"
      - "CLAUDE.md conventions"

# Validation rules
validation:
  required_files:
    - "CLAUDE.md"
    - ".specweave/docs/internal/delivery/guides/diagram-conventions.md"
    - "spec.md"
    - "plan.md"
    - "tasks.md"
    - "tests.md"

  required_sections:
    - "CLAUDE.md#agents-vs-skills-architecture"
    - "CLAUDE.md#c4-diagram-conventions"

# Expected outputs (what this increment will create)
outputs:
  agents:
    - name: "diagrams-architect"
      location: "src/agents/diagrams-architect/"
      type: "TOOL"

  skills:
    - name: "diagrams-generator"
      location: "src/skills/diagrams-generator/"
      type: "Coordinator"

  documentation:
    - path: ".specweave/docs/internal/delivery/guides/diagram-conventions.md"
      change_type: "simplified"
      before_lines: 190
      after_lines: ~190

    - path: "CLAUDE.md"
      change_type: "updated"
      sections_modified:
        - "#agents-development"
        - "#skills-development"
        - "#c4-diagram-conventions"

  adrs:
    - path: ".specweave/docs/internal/architecture/adr/000X-agent-types-roles-vs-tools.md"
      optional: true
      priority: P2

    - path: ".specweave/docs/internal/architecture/adr/000Y-skills-as-coordinators.md"
      optional: true
      priority: P2

# Notes
notes: |
  This context manifest ensures Claude loads only relevant documentation when working on
  increment 0002. This achieves 70%+ token reduction by excluding:
  - Unrelated agents (DevOps, SRE, backend specialists)
  - Unrelated skills (infrastructure, external integrations)
  - Previous increments
  - Test files

  Key context loaded:
  - DIAGRAM-CONVENTIONS.md (source material)
  - Agents vs Skills architecture (CLAUDE.md)
  - Example agent/skill formats
  - Increment spec/plan/tests

  This focused context enables efficient implementation without overwhelming Claude with
  irrelevant information about infrastructure, backend frameworks, or external tool integrations.
---
