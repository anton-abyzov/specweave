---
name: "User Story Generation with Acceptance Criteria"
description: "Tests pm-agent's ability to create detailed user stories from feature requirements"
priority: P1
test_type: functional

input:
  prompt: "Create user stories for user authentication feature"
  requirements:
    - "Email/password login"
    - "Social login (Google, GitHub)"
    - "Password reset"
    - "Two-factor authentication"

expected_output:
  files_created:
    - "specifications/modules/auth/user-stories.md"

  user_stories_created:
    minimum: 5
    format: "As a [user type], I want [goal], So that [benefit]"

  each_story_includes:
    - unique_id: "US-XXX format"
    - priority: "P1, P2, or P3"
    - acceptance_criteria: "minimum 3 specific, testable criteria"
    - story_points: "Fibonacci scale (1,2,3,5,8,13)"
    - dependencies: "list of related stories or systems"

  example_stories:
    - id: "US-001"
      title: "Email/Password Login"
      priority: "P1"
      acceptance_criteria_count: ">= 5"

    - id: "US-002"
      title: "Social Login (Google)"
      priority: "P2"

    - id: "US-003"
      title: "Password Reset"
      priority: "P1"

validation:
  - "All stories follow 'As a... I want... So that...' format"
  - "Acceptance criteria are specific and testable"
  - "Stories are prioritized (not all P1)"
  - "Story points follow Fibonacci sequence"
  - "Dependencies are identified"
  - "Each criterion starts with action verb (can, shows, sends, etc.)"

success_criteria:
  - story_count: ">= 5"
  - all_have_acceptance_criteria: true
  - priorities_distributed: true  # Not all P1
  - dependencies_identified: true
---
