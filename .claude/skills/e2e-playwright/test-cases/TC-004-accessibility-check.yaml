id: TC-004
name: Accessibility Check Test
description: Verify that the skill can perform basic accessibility checks on web pages
priority: medium
category: accessibility

preconditions:
  - TC-001 passes
  - Test page has various HTML elements (images, forms, buttons, links)
  - checkAccessibility() utility is available

test_steps:
  - step: 1
    action: Navigate to test page
    expected: Page loads successfully

  - step: 2
    action: Call checkAccessibility(page)
    expected: Function runs without errors

  - step: 3
    action: Verify detection of images without alt text
    expected: Missing alt text issues are reported

  - step: 4
    action: Verify detection of form inputs without labels
    expected: Missing label issues are reported

  - step: 5
    action: Verify detection of buttons without accessible text
    expected: Missing button text issues are reported

  - step: 6
    action: Log all accessibility issues to console
    expected: Clear, actionable issue descriptions are shown

acceptance_criteria:
  - All four accessibility checks run successfully
  - Issues are grouped by type (missing-alt, missing-label, etc.)
  - Each issue includes element HTML snippet
  - Each issue includes clear message explaining the problem
  - Function returns array of issue objects

test_data:
  test_scenarios:
    - scenario: Image without alt
      html: <img src="test.png">
      expected_issue: missing-alt

    - scenario: Input without label
      html: <input type="text" name="test">
      expected_issue: missing-label

    - scenario: Button without text
      html: <button></button>
      expected_issue: missing-button-text

    - scenario: Link without text
      html: <a href="/test"></a>
      expected_issue: missing-link-text

expected_results:
  - checkAccessibility() returns array
  - Each issue has: type, element, message
  - Element snippets are truncated to 100 chars
  - Hidden inputs are ignored
  - ARIA labels are recognized as valid alternatives

issue_format:
  type: string # e.g., "missing-alt"
  element: string # HTML snippet (max 100 chars)
  message: string # Human-readable description

valid_alternatives:
  for_images:
    - alt attribute
    - aria-label attribute

  for_inputs:
    - Wrapped in <label>
    - Associated via <label for="id">
    - aria-label attribute
    - aria-labelledby attribute

  for_buttons:
    - Text content
    - aria-label attribute
    - Alt text on child image

  for_links:
    - Text content
    - aria-label attribute
    - Alt text on child image

notes: |
  Basic accessibility checks help catch common issues early.
  This is not a replacement for full accessibility audits but provides
  quick feedback during development.
