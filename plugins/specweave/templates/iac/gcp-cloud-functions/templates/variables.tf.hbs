# Input Variables for GCP Cloud Functions + Firestore
# Generated by SpecWeave Serverless Architecture Intelligence

variable "project_id" {
  description = "GCP Project ID"
  type        = string
  default     = "{{projectId}}"
}

variable "region" {
  description = "GCP region for all resources"
  type        = string
  default     = "{{region}}"
}

variable "function_name" {
  description = "Cloud Function name"
  type        = string
  default     = "{{functionName}}"
}

variable "runtime" {
  description = "Cloud Function runtime (nodejs20, python312, go121, etc.)"
  type        = string
  default     = "{{runtime}}"
}

variable "entry_point" {
  description = "Function entry point (handler function name)"
  type        = string
  default     = "{{entryPoint}}"
}

variable "memory_mb" {
  description = "Memory allocation in MB (128-32768)"
  type        = number
  default     = {{memoryMb}}
}

variable "timeout_seconds" {
  description = "Function timeout in seconds (1-3600)"
  type        = number
  default     = {{timeoutSeconds}}
}

variable "min_instances" {
  description = "Minimum number of instances (0 for auto-scale to zero)"
  type        = number
  default     = {{minInstances}}
}

variable "max_instances" {
  description = "Maximum number of instances"
  type        = number
  default     = {{maxInstances}}
}

variable "environment" {
  description = "Environment name (dev, staging, prod)"
  type        = string
  default     = "{{environment}}"
}

variable "database_id" {
  description = "Firestore database ID"
  type        = string
  default     = "{{databaseId}}"
}

variable "collection_id" {
  description = "Firestore collection ID"
  type        = string
  default     = "{{collectionId}}"
}

variable "service_account_id" {
  description = "Service Account ID for Cloud Function"
  type        = string
  default     = "{{serviceAccountId}}"
}

variable "cors_origins" {
  description = "List of allowed CORS origins"
  type        = list(string)
  default     = {{tfList corsOrigins}}
}

variable "project_name" {
  description = "Project name for resource labeling"
  type        = string
  default     = "{{projectName}}"
}

variable "bucket_name" {
  description = "Storage bucket name for function source code"
  type        = string
  default     = "{{bucketName}}"
}

variable "bucket_location" {
  description = "Storage bucket location (US, EU, ASIA, or region)"
  type        = string
  default     = "{{bucketLocation}}"
}

{{#if enableConcurrency}}
variable "max_concurrent_requests" {
  description = "Maximum concurrent requests per instance"
  type        = number
  default     = {{maxConcurrentRequests}}
}
{{/if}}

{{#if enableVpc}}
variable "vpc_network" {
  description = "VPC network name for private networking"
  type        = string
}
{{/if}}
