# Variable Definitions for GCP Cloud Functions Infrastructure
# Generated by SpecWeave Serverless Architecture Intelligence

variable "project_id" {
  description = "GCP Project ID"
  type        = string
  default     = "{{projectId}}"
}

variable "region" {
  description = "GCP region for resources"
  type        = string
  default     = "{{region}}"
}

variable "function_name" {
  description = "Name of the Cloud Function"
  type        = string
  default     = "{{functionName}}"
}

variable "runtime" {
  description = "Runtime for the Cloud Function (nodejs20, python312, go121, etc.)"
  type        = string
  default     = "{{runtime}}"
}

variable "entry_point" {
  description = "Entry point function name"
  type        = string
  default     = "{{entryPoint}}"
}

variable "memory_size" {
  description = "Memory allocation for the function (MB)"
  type        = number
  default     = {{memorySize}}
}

variable "timeout" {
  description = "Timeout for the function (seconds)"
  type        = number
  default     = {{timeout}}
}

variable "environment" {
  description = "Environment name (dev, staging, prod)"
  type        = string
  default     = "{{environment}}"
}

variable "database_name" {
  description = "Firestore database name"
  type        = string
  default     = "{{databaseName}}"
}

variable "primary_key" {
  description = "Primary key field name for Firestore documents"
  type        = string
  default     = "{{primaryKey}}"
}

variable "project_name" {
  description = "Project name for tagging"
  type        = string
  default     = "{{projectName}}"
}

variable "min_instances" {
  description = "Minimum number of function instances"
  type        = number
  default     = {{minInstances}}
}

variable "max_instances" {
  description = "Maximum number of function instances"
  type        = number
  default     = {{maxInstances}}
}

variable "cors_origins" {
  description = "Allowed CORS origins"
  type        = list(string)
  default     = {{tfList corsOrigins}}
}

variable "firestore_location" {
  description = "Firestore database location"
  type        = string
  default     = "{{firestoreLocation}}"
}

variable "firestore_type" {
  description = "Firestore database type (FIRESTORE_NATIVE or DATASTORE_MODE)"
  type        = string
  default     = "{{firestoreType}}"
}

{{#if enableVpc}}
variable "vpc_connector" {
  description = "VPC connector name for private network access"
  type        = string
}
{{/if}}
