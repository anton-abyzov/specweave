# Output Values for GCP Cloud Functions + Firestore
# Generated by SpecWeave Serverless Architecture Intelligence

output "function_name" {
  description = "Cloud Function name"
  value       = google_cloudfunctions2_function.{{snakeCase functionName}}.name
}

output "function_id" {
  description = "Cloud Function ID"
  value       = google_cloudfunctions2_function.{{snakeCase functionName}}.id
}

output "function_url" {
  description = "Cloud Function HTTPS trigger URL"
  value       = google_cloudfunctions2_function.{{snakeCase functionName}}.service_config[0].uri
}

output "function_region" {
  description = "Cloud Function region"
  value       = google_cloudfunctions2_function.{{snakeCase functionName}}.location
}

output "service_account_email" {
  description = "Service Account email for Cloud Function"
  value       = google_service_account.{{snakeCase serviceAccountId}}.email
}

output "firestore_database_name" {
  description = "Firestore database name"
  value       = google_firestore_database.{{snakeCase databaseId}}.name
}

output "firestore_location" {
  description = "Firestore database location"
  value       = google_firestore_database.{{snakeCase databaseId}}.location_id
}

output "storage_bucket_name" {
  description = "Storage bucket name for function source code"
  value       = google_storage_bucket.{{snakeCase bucketName}}.name
}

output "storage_bucket_url" {
  description = "Storage bucket URL"
  value       = google_storage_bucket.{{snakeCase bucketName}}.url
}

{{#if enableSecretManager}}
output "secret_manager_secret_id" {
  description = "Secret Manager secret ID"
  value       = google_secret_manager_secret.{{snakeCase functionName}}_secrets.secret_id
}
{{/if}}

{{#if enableVpc}}
output "vpc_connector_id" {
  description = "VPC Access Connector ID"
  value       = google_vpc_access_connector.connector.id
}
{{/if}}

output "project_id" {
  description = "GCP Project ID"
  value       = "{{projectId}}"
}
