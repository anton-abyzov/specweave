# Input Variables for Azure Functions + Cosmos DB
# Generated by SpecWeave Serverless Architecture Intelligence

variable "location" {
  description = "Azure region for all resources"
  type        = string
  default     = "{{location}}"
}

variable "resource_group_name" {
  description = "Resource group name"
  type        = string
  default     = "{{resourceGroupName}}"
}

variable "app_name" {
  description = "Function App name"
  type        = string
  default     = "{{appName}}"
}

variable "runtime" {
  description = "Function runtime (node, python, dotnet)"
  type        = string
  default     = "{{runtime}}"
}

variable "runtime_version" {
  description = "Runtime version (20 for Node.js 20, 3.11 for Python 3.11, etc.)"
  type        = string
  default     = "{{runtimeVersion}}"
}

variable "os_type" {
  description = "OS type (Linux or Windows)"
  type        = string
  default     = "{{osType}}"
}

variable "sku_name" {
  description = "App Service Plan SKU (Y1 for Consumption, EP1/EP2/EP3 for Premium)"
  type        = string
  default     = "{{skuName}}"
}

variable "environment" {
  description = "Environment name (dev, staging, prod)"
  type        = string
  default     = "{{environment}}"
}

variable "database_account_name" {
  description = "Cosmos DB account name"
  type        = string
  default     = "{{databaseAccountName}}"
}

variable "database_name" {
  description = "Cosmos DB database name"
  type        = string
  default     = "{{databaseName}}"
}

variable "container_name" {
  description = "Cosmos DB container name"
  type        = string
  default     = "{{containerName}}"
}

variable "partition_key" {
  description = "Cosmos DB partition key"
  type        = string
  default     = "{{partitionKey}}"
}

variable "throughput" {
  description = "Cosmos DB throughput (RU/s, minimum 400)"
  type        = number
  default     = {{throughput}}
}

variable "cors_origins" {
  description = "List of allowed CORS origins for Function App"
  type        = list(string)
  default     = {{tfList corsOrigins}}
}

variable "project_name" {
  description = "Project name for resource tagging"
  type        = string
  default     = "{{projectName}}"
}

variable "storage_account_tier" {
  description = "Storage account tier (Standard or Premium)"
  type        = string
  default     = "{{storageAccountTier}}"
}

variable "storage_account_replication" {
  description = "Storage account replication type (LRS, GRS, RAGRS, ZRS)"
  type        = string
  default     = "{{storageAccountReplication}}"
}

{{#if enableMultiRegion}}
variable "secondary_regions" {
  description = "List of secondary regions for multi-region deployment"
  type        = list(string)
  default     = {{tfList secondaryRegions}}
}
{{/if}}

{{#if enableVnet}}
variable "vnet_id" {
  description = "Virtual Network ID for Function App integration"
  type        = string
}

variable "subnet_id" {
  description = "Subnet ID for Function App integration"
  type        = string
}
{{/if}}
